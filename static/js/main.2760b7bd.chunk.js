(this["webpackJsonplaptop-shop"]=this["webpackJsonplaptop-shop"]||[]).push([[0],{36:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(4),o=c(27),a=c.n(o),i=(c(36),c(31)),l=c(2),j=Object(n.createContext)(),u=c(0);function d(){var e=Object(l.h)().articleNo,t=Object(n.useContext)(j).products,c=Object.values(t.find((function(t){return t.articleNo===e})));return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Brand: ",c[1]]}),Object(u.jsxs)("li",{children:["Price: ",c[3]," $"]}),Object(u.jsxs)("li",{children:["Description: ",c[2]]})]})})}function b(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"h2tag",children:"Welcome to our small shop"}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Login"}),Object(u.jsxs)("p",{children:["In the following component we are making post request to server, and once we get response status",Object(u.jsx)("b",{children:"(2...)"}),", state of loggedIn is being changed to ",Object(u.jsx)("b",{children:"True"}),' so that the path to "/products" is open']}),Object(u.jsxs)("ul",{children:["Used features:",Object(u.jsx)("li",{children:"- UseContext - to import global states"}),Object(u.jsxs)("li",{children:["- UseState - to change the state of ",Object(u.jsx)("i",{children:"LoggedIn"})]}),Object(u.jsxs)("li",{children:["- Axios - to post the input values and set ",Object(u.jsx)("i",{children:"LoggedIn"}),"accordingly"]})]})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Sign Up"}),Object(u.jsxs)("p",{children:["This component takes the values of input fields and sends post request. Server-side is creating new constant of our DB Schema and saving it (if ",Object(u.jsx)("i",{children:"Express"})," validator allows).   Afterwards we're sending back status eigther ",Object(u.jsx)("b",{children:"(2...)"})," or ",Object(u.jsx)("span",{className:"false",children:"(4...)"}),'. And in case of success we redirect our user to "/products" page whilst changing ',Object(u.jsx)("i",{children:"LoggedIn"})," to ",Object(u.jsx)("b",{children:"True"})]})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Products"}),Object(u.jsx)("p",{})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Products"}),Object(u.jsx)("p",{})]})]})]})}var h=c(5);var O=function(e){var t=e.products;return Object(u.jsx)("ul",{className:"products__list",children:t.map((function(e,t){return Object(u.jsxs)("li",{children:["Name: ",e.name,Object(u.jsx)("br",{}),Object(u.jsx)(r.b,{className:"nav__link",to:"/products/".concat(e.articleNo),children:"More"})]},t)}))})};function x(e){var t=e.loggedIn,c=Object(n.useState)(""),s=Object(h.a)(c,2),r=s[0],o=s[1],a=Object(l.g)(),i=Object(n.useContext)(j),d=i.products,b=i.LoginHandler,x=i.RegisterHandler;return t?Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{children:Object(u.jsxs)("form",{className:"search",children:[Object(u.jsx)("input",{type:"search",className:"form-control w-25",placeholder:"Search by Name","aria-label":"Search",value:r,onChange:function(e){o(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t=d.find((function(e){return e.name===r}));if(t)return console.log({laptop:t}),a.push("/products/name/".concat(t.name));alert("This product not found")},children:"Search"})]})}),Object(u.jsx)("br",{}),Object(u.jsx)(O,{products:d})]}):Object(u.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(u.jsx)("h2",{children:" Your are not logged "}),Object(u.jsx)("button",{onClick:b,children:"Login"})," or ",Object(u.jsx)("button",{onClick:x,children:"Sign Up"})]})}var p=c(11),g=c.n(p),m=Object(n.createContext)();function f(){var e=Object(n.useContext)(m).setLoggedIn,t=Object(l.g)(),c=Object(n.useState)(""),s=Object(h.a)(c,2),r=s[0],o=s[1],a=Object(n.useState)(""),i=Object(h.a)(a,2),j=i[0],d=i[1],b=Object(n.useState)(""),O=Object(h.a)(b,2),x=O[0],p=O[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),N=v[0],w=v[1];return Object(u.jsx)("div",{className:"sign_container",children:Object(u.jsxs)("form",{className:"w-25",onSubmit:function(c){c.preventDefault(),g.a.post("https://mongoshoper.herokuapp.com/register",{bodyname:r,bodyemail:j,bodypass:x}).then((function(){e(!0),t.push("/login")})).then((function(){return alert("Check your email to verify")})).catch((function(e){return console.log(e.message)}))},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Your Name"}),Object(u.jsx)("input",{placeholder:"Enter your login",className:"form-control",required:!0,value:r,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Your Email"}),Object(u.jsx)("input",{placeholder:"Enter your email",className:"form-control",required:!0,type:"email",value:j,onChange:function(e){return d(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Your password"}),Object(u.jsx)("input",{placeholder:"create your password",className:"form-control",required:!0,type:"password",value:x,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Confirm your password"}),Object(u.jsx)("input",{placeholder:"confirm your password",className:"form-control",required:!0,type:"password",value:N,onChange:function(e){return w(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn-light",type:"submit",value:"Register"})]})})}function v(e){var t=Object(n.useState)(""),c=Object(h.a)(t,2),s=c[0],r=c[1],o=Object(n.useState)(""),a=Object(h.a)(o,2),i=a[0],l=a[1],j=Object(n.useContext)(m).login;return Object(u.jsx)("div",{className:"login_container",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(s,i)},className:"w-25",children:[Object(u.jsx)("label",{children:"User Name"}),Object(u.jsx)("input",{id:"login",typex:"text",placeholder:"Login",required:!0,className:"form-control",value:s,onChange:function(e){r(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{id:"password",placeholder:"Password",type:"password",className:"form-control",required:!0,value:i,onChange:function(e){l(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn-light",type:"submit",value:"Log in"}),e.loggedIn?Object(u.jsx)("p",{className:"text-success",children:"Logged in"}):Object(u.jsx)("p",{children:"Not logged in"})]})})}function N(){var e=Object(l.h)().byname,t=Object(n.useContext)(j).products.find((function(t){return t.name===e}));return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Brand: ",t.name]}),Object(u.jsxs)("li",{children:["Price: ",t.price," $"]}),Object(u.jsxs)("li",{children:["Description: ",t.description]})]})})}function w(e){var t=e.children,c=Object(l.g)(),s=Object(n.useState)([]),r=Object(h.a)(s,2),o=r[0],a=r[1];Object(n.useEffect)((function(){g.a.get("https://mongoshoper.herokuapp.com/products").then((function(e){return a(e.data)})).catch((function(){return alert("user or pass incorrect")}))}),[]);return Object(u.jsx)(j.Provider,{value:{products:o,LoginHandler:function(e){e.preventDefault(),c.push("/login")},RegisterHandler:function(e){e.preventDefault(),c.push("/signup")}},children:t})}var y=function(){var e=Object(n.useContext)(m),t=e.loggedIn,c=e.setLoggedIn,s=function(e){return t?Object(u.jsx)(l.b,Object(i.a)({},e)):Object(u.jsx)(l.a,{to:"/login"})};return Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{children:Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{class:"nav__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"nav__link",exact:!0,to:"/",children:"Home"})}),t?Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"nav__link",exact:!0,to:"/signout",onClick:function(){return c(!1),Object(u.jsx)(l.a,{to:"/login"})},children:"Sign Out"})}):Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"nav__link",exact:!0,to:"/login",children:"Login"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"nav__link",exact:!0,to:"/signup",children:"Sign Up"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"nav__link",exact:!0,to:"/products",children:"Our Products"})})]})})}),Object(u.jsx)(w,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",component:b,exact:!0}),Object(u.jsx)(l.b,{path:"/login",render:function(){return Object(u.jsx)(v,{loggedIn:t,setLoggedIn:c})}}),Object(u.jsx)(l.b,{path:"/signup",component:f}),Object(u.jsx)(s,{path:"/products/name/:byname",component:N,exact:!0}),Object(u.jsx)(s,{path:"/products/:articleNo",component:d,exact:!0}),Object(u.jsx)(l.b,{path:"/products",render:function(){return Object(u.jsx)(x,{loggedIn:t,exact:!0})}})]})})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),s(e),r(e),o(e)}))},S=new(c(30).a);function k(e){var t=e.children,c=Object(l.g)(),s=Object(n.useState)(!1),r=Object(h.a)(s,2),o=r[0],a=r[1],i=12e4;return Object(u.jsx)(m.Provider,{value:{login:function(e,t){g.a.post("https://mongoshoper.herokuapp.com/login",{userName:e,passName:t,Timer:i}).then((function(){S.set("expires in ","120000 msec"),a(!0),c.push("/products")})).catch((function(e){return console.log(e.message)}))},loggedIn:o,setLoggedIn:a},children:t})}a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(k,{children:Object(u.jsx)(y,{})})})}),document.getElementById("root")),C()}},[[61,1,2]]]);
//# sourceMappingURL=main.2760b7bd.chunk.js.map