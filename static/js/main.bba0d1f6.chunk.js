(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(4),o=c(27),a=c.n(o),i=(c(36),c(31)),l=c(2),j=Object(n.createContext)(),u=c(0);function b(){var e=Object(l.h)().articleNo,t=Object(n.useContext)(j).products,c=Object.values(t.find((function(t){return t.articleNo===e})));return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Brand: ",c[1]]}),Object(u.jsxs)("li",{children:["Price: ",c[3]," $"]}),Object(u.jsxs)("li",{children:["Description: ",c[2]]})]})})}function d(){return Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:"Welcome to our small shop"})})}var O=c(5);var h=function(e){var t=e.products;return Object(u.jsx)("ul",{className:"products__list",children:t.map((function(e,t){return Object(u.jsxs)("li",{children:["Name: ",e.name,Object(u.jsx)("br",{}),Object(u.jsx)(s.b,{className:"nav__link",to:"/products/".concat(e.articleNo),children:"More"})]},t)}))})};function p(e){var t=e.loggedIn,c=Object(n.useState)(""),r=Object(O.a)(c,2),s=r[0],o=r[1],a=Object(l.g)(),i=Object(n.useContext)(j),b=i.products,d=i.LoginHandler,p=i.RegisterHandler;return t?Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{children:Object(u.jsxs)("form",{className:"search",children:[Object(u.jsx)("input",{type:"search",className:"form-control w-25",placeholder:"Search by Name","aria-label":"Search",value:s,onChange:function(e){o(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t=b.find((function(e){return e.name===s}));if(t)return console.log({laptop:t}),a.push("/products/name/".concat(t.name));alert("This product not found")},children:"Search"})]})}),Object(u.jsx)("br",{}),Object(u.jsx)(h,{products:b})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:" Your are not logged "}),Object(u.jsx)("button",{onClick:d,children:"Login"})," or ",Object(u.jsx)("button",{onClick:p,children:"Sign Up"})]})}var x=c(11),g=c.n(x),m=Object(n.createContext)();function f(){var e=Object(n.useContext)(m).setLoggedIn,t=Object(l.g)(),c=Object(n.useState)(""),r=Object(O.a)(c,2),s=r[0],o=r[1],a=Object(n.useState)(""),i=Object(O.a)(a,2),j=i[0],b=i[1],d=Object(n.useState)(""),h=Object(O.a)(d,2),p=h[0],x=h[1],f=Object(n.useState)(""),v=Object(O.a)(f,2),N=v[0],C=v[1];return Object(u.jsxs)("form",{className:"w-25",onSubmit:function(c){c.preventDefault(),g.a.post("https://mongoshoper.herokuapp.com/register",{bodyname:s,bodyemail:j,bodypass:p}).then((function(){e(!0),t.push("/login")})).then((function(){return alert("Check your email to verify")})).catch((function(e){return console.log(e.message)}))},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Your Name"}),Object(u.jsx)("input",{placeholder:"Enter your login",className:"form-control",required:!0,value:s,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Your Email"}),Object(u.jsx)("input",{placeholder:"Enter your email",className:"form-control",required:!0,type:"email",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Your password"}),Object(u.jsx)("input",{placeholder:"create your password",className:"form-control",required:!0,type:"password",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{children:"Confirm your password"}),Object(u.jsx)("input",{placeholder:"confirm your password",className:"form-control",required:!0,type:"password",value:N,onChange:function(e){return C(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Register"})]})}function v(e){var t=Object(n.useState)(""),c=Object(O.a)(t,2),r=c[0],s=c[1],o=Object(n.useState)(""),a=Object(O.a)(o,2),i=a[0],l=a[1],j=Object(n.useContext)(m).login;return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(r,i)},className:"w-25",children:[Object(u.jsx)("label",{children:"User Name"}),Object(u.jsx)("input",{id:"login",typex:"text",placeholder:"Login",required:!0,className:"form-control",value:r,onChange:function(e){s(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{id:"password",placeholder:"Password",type:"password",className:"form-control",required:!0,value:i,onChange:function(e){l(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Log in"}),e.loggedIn?Object(u.jsx)("p",{className:"text-success",children:"Logged in"}):Object(u.jsx)("p",{children:"Not logged in"})]})}function N(){var e=Object(l.h)().byname,t=Object(n.useContext)(j).products.find((function(t){return t.name===e}));return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Brand: ",t.name]}),Object(u.jsxs)("li",{children:["Price: ",t.price," $"]}),Object(u.jsxs)("li",{children:["Description: ",t.description]})]})})}function C(e){var t=e.children,c=Object(l.g)(),r=Object(n.useState)([]),s=Object(O.a)(r,2),o=s[0],a=s[1];Object(n.useEffect)((function(){g.a.get("https://mongoshoper.herokuapp.com/products").then((function(e){return a(e.data)})).catch((function(){return alert("user or pass incorrect")}))}),[]);return Object(u.jsx)(j.Provider,{value:{products:o,LoginHandler:function(e){e.preventDefault(),c.push("/login")},RegisterHandler:function(e){e.preventDefault(),c.push("/signup")}},children:t})}var y=function(){var e=Object(n.useContext)(m),t=e.loggedIn,c=e.setLoggedIn,r=function(e){return t?Object(u.jsx)(l.b,Object(i.a)({},e)):Object(u.jsx)(l.a,{to:"/login"})};return Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{children:Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{class:"nav__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{className:"nav__link",exact:!0,to:"/",children:"Home"})}),t?Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{className:"nav__link",exact:!0,to:"/signout",onClick:function(){return c(!1),Object(u.jsx)(l.a,{to:"/login"})},children:"Sign Out"})}):Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{className:"nav__link",exact:!0,to:"/login",children:"Login"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{className:"nav__link",exact:!0,to:"/signup",children:"Sign Up"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{className:"nav__link",exact:!0,to:"/products",children:"Our Products"})})]})})}),Object(u.jsx)(C,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",component:d,exact:!0}),Object(u.jsx)(l.b,{path:"/login",render:function(){return Object(u.jsx)(v,{loggedIn:t,setLoggedIn:c})}}),Object(u.jsx)(l.b,{path:"/signup",component:f}),Object(u.jsx)(r,{path:"/products/name/:byname",component:N,exact:!0}),Object(u.jsx)(r,{path:"/products/:articleNo",component:b,exact:!0}),Object(u.jsx)(l.b,{path:"/products",render:function(){return Object(u.jsx)(p,{loggedIn:t,exact:!0})}})]})})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),s(e),o(e)}))},k=new(c(30).a);function w(e){var t=e.children,c=Object(l.g)(),r=Object(n.useState)(!1),s=Object(O.a)(r,2),o=s[0],a=s[1],i=12e4;return Object(u.jsx)(m.Provider,{value:{login:function(e,t){g.a.post("https://mongoshoper.herokuapp.com/login",{userName:e,passName:t,Timer:i}).then((function(){k.set("expires in ","120000 msec"),a(!0),c.push("/products")})).catch((function(e){return console.log(e.message)}))},loggedIn:o,setLoggedIn:a},children:t})}a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(w,{children:Object(u.jsx)(y,{})})})}),document.getElementById("root")),S()}},[[61,1,2]]]);
//# sourceMappingURL=main.bba0d1f6.chunk.js.map